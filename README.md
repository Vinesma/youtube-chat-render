# Youtube chat render

CLI application for rendering a youtube chat window and overlaying it onto another video.

Right now, it works but is in a very basic shape and is quite slow and untested. Expect long render times for big livestreams. There's also no emoji or badges, basically anything that's not raw text is gone. Improvements are not my priority right now as it satisfies my use case, but anyone is free to make a PR.

## How to use

(You can't yet until I get fonts working, but this is here for later)

This program depends on [ffmpeg](https://ffmpeg.org/) so make sure you have it. Next you will need [chat_downloader](https://github.com/xenova/chat-downloader) to get the chat file.

.json is currently not supported so just tell `chat_downloader` to spit out the raw chat contents into a .txt file.

Obtain the video you want with [youtube-dl](https://github.com/ytdl-org/youtube-dl) or something else.

Now you have everything! Run `youtube-chat-render` with the `-h` flag to see what options you have.

## Options

A list of command line arguments:

```
    -h, --help                  Show this help message and exit
    -v, --verbose               Control the output in your terminal, passing this flag increases output.
    -ic, --input-chat           Chat file to parse, needs to be generated by chat_downloader and can't be a .json file. Default = 'files/chat.txt'
    -iv, --input-video          The video file to overlay the chat on. Default = 'video.mp4'
    -of, --output-frames        Where to output the frames, WARNING: This folder will get very full. Default = 'frames/'
    -oc, --output-chat          Where to ouput the generated chat video. Default = '.'
    -cfs, --chat-font-size      The pixel font size of the chat. Default = 14
    -cms, --chat-spacing        The pixel spacing of the messages. Default = 2
    -cma, --chat-message-amount The max amount of messages to show up at once inside the chat window. Affects chat height. Default = 25
    -cw, --chat-width           Chat video width in pixels. Default = 300
    -opx, --overlay-position-x  The X value of the overlay position of the chat window on the video. (0 = Left) Default = 0
    -opy, --overlay-position-y  The Y value of the overlay position of the chat window on the video. (0 = Top) Default = 0
    -oop, --overlay-opacity     The opacity of the overlay. Default = 0.8
    -s {START,VIDEOGEN,OVERLAY}, --start-at {START,VIDEOGEN,OVERLAY}
                                Which step to start the program on. Useful if an error happened and you wish to continue where it left off. Values:
                                'START': Default, start from parsing chat file. 'VIDEOGEN': Start from generating the video out of the frames.
                                'OVERLAY': Start from overlaying chat onto the video.
    -nop, --dry-run             If this argument is present, only generate 30 seconds of chat and overlay it onto 30 seconds of video. For testing purposes.
    -ncl, --no-clean            By default the program wipes every non essential file after completion. Pass this flag to keep the files.
```

## Ideas/improvements

- Interface directly with `chat_downloader`
- Speed improvements
- GUI
- Chat emoji (no clue how to do this so it's at the bottom)

## Motivation

One of my favorite youtubers, Suzuhara Lulu, retired recently. She did gaming livestreams and I watched them to improve my Japanese. I wanted to archive some of her youtube channel, but since she often played without a chat overlaid on her videos, I found myself wanting to archive that too. I found nothing out there to render youtube chats, only extracting them. And so, this project was born out of a 3 day weekend.